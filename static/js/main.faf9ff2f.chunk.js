(this["webpackJsonpreact-test-chat-app"]=this["webpackJsonpreact-test-chat-app"]||[]).push([[0],{1526:function(e,t,s){},1527:function(e,t,s){},1528:function(e,t,s){},1529:function(e,t,s){},1530:function(e,t,s){},1531:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(8),i=s.n(c),r=(s(32),s(2)),o=s(10),l=s(14),d=s(6),j=s(5),u=s.n(j),h=s(1533),b=[{text:"Yo!",isOwnSentMessage:!0},{text:"It is really hard to run for 10KM in an hour!!",isOwnSentMessage:!1},{text:"I got two tickets to go see this awesome band called, Lorem lpsum Dollars!! Do you want to come?",isOwnSentMessage:!1},{text:"Hey, How are you doing?",isOwnSentMessage:!1},{text:"It is gonna rain this weekend, so we probably need to rethink our lunch plan",isOwnSentMessage:!1},{text:u.a.lorem.sentence(),isOwnSentMessage:!0},{text:"I don't think I will be able to make it, but I Heard they're great! Have fun and let's try and catch up at some point this week!",isOwnSentMessage:!1},{text:"Yo! Lex is being a lill bi*ch!",isOwnSentMessage:!1},{text:"My phone battery is dead. I will call you back once it is charged.",isOwnSentMessage:!0},{text:"The network ain't got shit on me!",isOwnSentMessage:!0},{text:"Last night game was pretty Awesome! Raptors nailed it",isOwnSentMessage:!1},{text:"Are you joining us for a lunch this week?",isOwnSentMessage:!0},{text:"The weather is good. I hope it will not spoil the weekend plan!!",isOwnSentMessage:!0},{text:"Have you seen Merton?",isOwnSentMessage:!1},{text:"What's your thoughts on picking up a delivery from the Apple Store",isOwnSentMessage:!1},{text:"I really hope the new show is going to be a blockbuster!",isOwnSentMessage:!0},{text:"I love listening to Simple Plan!!",isOwnSentMessage:!1},{text:"How is your day going?",isOwnSentMessage:!0},{text:"Are you okay sending over the list of the books that I need to buy?",isOwnSentMessage:!1}],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return b.sort((function(){return.5-Math.random()})).slice(1,e<b.length?e:b.length-1)},O=[],g=["/react-chat-app/assets/icons/avatar1.svg","/react-chat-app/assets/icons/avatar2.svg","/react-chat-app/assets/icons/avatar3.svg","/react-chat-app/assets/icons/avatar4.svg","/react-chat-app/assets/icons/avatar5.svg","/react-chat-app/assets/icons/avatar6.svg","/react-chat-app/assets/icons/avatar7.svg"],p=function(e){var t=u.a.name.findName();return{coverPhoto:u.a.image.image(),createdAt:"May 17, 2021 03:24:00",description:u.a.lorem.sentences(),email:u.a.internet.email(t),id:Object(h.a)(),lastSeen:"Oct 15, 2021 03:24:00",messages:m(7),name:u.a.name.findName(),order:e,profilePhoto:g[e%g.length],username:u.a.internet.userName(t),website:u.a.internet.url()}},x={getUsers:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=O.length,s=0;0===t&&--e>=0;)O.push(p(++s));return O},getLoggedInUser:function(){return{order:0,email:"bhopalsinghsis@gmail.com",id:Object(h.a)(),lastSeen:"Oct 10, 2021 03:24:00",messages:m(7),name:"Bhopal Singh",profilePhoto:g[0],username:"bsingh"}}},v=x.getUsers(),f=x.getLoggedInUser(),w={users:v,selectedUser:v.length>0?v[0]:f,loggedInUser:f},N=f,y=Object(o.b)({name:"chat",initialState:w,reducers:{setSelectedUser:function(e,t){var s=e.users.find((function(e){return e.id===t.payload.id}))||N;return Object(d.a)(Object(d.a)({},e),{},{selectedUser:s})},addConversation:function(e,t){var s,a=t.payload,n=a.id,c=a.message,i=e.users.map((function(e){return e.id===n&&(e=Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),[{text:c,isOwnSentMessage:!1}])}),s=e),e}));return Object(d.a)(Object(d.a)({},e),{},{selectedUser:s,users:Object(l.a)(i)})}}}),S=y.actions,M=S.setSelectedUser,k=S.addConversation,C=y.reducer,E=Object(o.a)({reducer:{chat:C}}),I=s(0),P=function(e){var t=e.message,s=e.showArrow,a=e.isOwnSentMessage;return Object(I.jsx)("div",{className:"chat-body-message ".concat(a?s?"dark arrow-top ":"dark ":s?"light arrow-bottom  ":"light "),children:t})},L=function(e){var t=e.messages;return Object(I.jsx)("div",{className:"chat-body-text",children:t.map((function(e,s){return Object(I.jsx)(P,{message:e.text,isOwnSentMessage:e.isOwnSentMessage,showArrow:0===s||s===t.length-1},s)}))})};L.defaultProps={messages:[]};var T=L,U=function(e){var t=e.user;return Object(I.jsxs)("div",{className:"chat-body-header",children:[Object(I.jsxs)("div",{className:"chat-body-user-profile",children:[Object(I.jsx)("div",{className:"chat-body-avatar",children:Object(I.jsx)("img",{src:t.profilePhoto,alt:t.name})}),Object(I.jsx)("div",{className:"chat-body-title",children:t.name})]}),Object(I.jsxs)("div",{className:"chat-body-actions",children:[Object(I.jsx)("div",{"data-testid":"chat-body-message",className:"chat-app-icon message-icon",onClick:function(){return alert("Please type a message in the input field provided. Once you have entered the text message, kindly press ENTER or CLICK on message icon given next to it to send your message.")}}),Object(I.jsx)("div",{"data-testid":"chat-body-video",className:"chat-app-icon video-icon",onClick:function(){return alert("Video Call feature is not Supported!!")}}),Object(I.jsx)("div",{"data-testid":"chat-body-call",className:"chat-app-icon call-icon",onClick:function(){return alert("Phone Call feature is not Supported!!")}})]})]})},H=s(4),Y=s(3),A=function(e){var t=e.onDispatchHandler,s=Object(a.useState)(Y.EMPTY),n=Object(H.a)(s,2),c=n[0],i=n[1],r=function(e,t){return e&&0!==e.trim().length&&(t===Y.ENTER||t===Y.CLICK)};return Object(I.jsxs)("div",{className:"chat-body-write-text",children:[Object(I.jsx)("div",{className:"chat-body-write-text-area",children:Object(I.jsx)("textarea",{"data-testid":"chat-message-id",value:c,placeholder:"Write a message...",onChange:function(e){return i(e.target.value)},onKeyDown:function(e){r(c,e.key)&&(t(c.trim()),i(Y.EMPTY),e.preventDefault())}})}),Object(I.jsxs)("div",{className:"chat-body-write-text-buttons",children:[Object(I.jsx)("div",{"data-testid":"chat-message-send-id",className:"chat-app-icon write-message-icon",onClick:function(){r(c,Y.CLICK)&&(t(c.trim()),i(Y.EMPTY))}}),Object(I.jsx)("div",{className:"chat-app-icon microphone-icon",onClick:function(){return alert("Sending an audio to participants is not Supported!!")}})]})]})},D=(s(1526),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chat})).selectedUser,s=t.messages;return Object(I.jsxs)("div",{className:"chat-body",children:[Object(I.jsx)(U,{user:t}),Object(I.jsx)(T,{messages:s}),Object(I.jsx)(A,{onDispatchHandler:function(s){return e(k({id:t.id,message:s}))}})]})});s(1527);function K(e){var t=e.user,s=void 0===t?{}:t,n=Object(a.useRef)(null),c=s.email,i=s.name,r=s.username,o=s.messages,l=s.lastSeen,d=function(e,t){var s=Object(a.useState)(t),n=Object(H.a)(s,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||i(!c)};return c&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[c,e]),[c,i]}(n,!1),j=Object(H.a)(d,2),u=j[0],h=j[1];return Object(I.jsxs)("div",{className:"drop-down-menu-container",children:[Object(I.jsx)("div",{className:"down-arrow-icon down-arrow drop-down-menu-trigger",onClick:function(){return h(!u)}}),Object(I.jsx)("nav",{ref:n,className:"drop-down-menu-items ".concat(u?"active":"inactive"),children:Object(I.jsxs)("ul",{className:"user-profile",children:[Object(I.jsx)("li",{children:i}),Object(I.jsxs)("li",{children:["Signed in as ",Object(I.jsx)("b",{children:r})]}),Object(I.jsx)("li",{children:c}),Object(I.jsxs)("li",{children:["Messages Received \xa0",Object(I.jsx)("b",{children:Object(I.jsx)("span",{className:"messages-count",children:o.length})})]}),Object(I.jsxs)("li",{children:["Status ",Object(I.jsxs)("b",{children:[Object(I.jsx)("span",{className:"green-dot"}),"Online"]})]}),Object(I.jsxs)("li",{children:["Last Seen on ",Object(I.jsxs)("b",{children:[Object(I.jsx)("span",{className:"last-seen"}),l]})]})]})})]})}s(1528);var R=function(){var e=Object(r.c)((function(e){return e.chat.loggedInUser}));return Object(I.jsx)(n.a.Fragment,{children:Object(I.jsxs)("div",{className:"chat-header",children:[Object(I.jsxs)("div",{className:"left",children:[Object(I.jsx)("span",{className:"close"}),Object(I.jsx)("span",{className:"minimize"}),Object(I.jsx)("span",{className:"maximize"})]}),Object(I.jsx)("div",{className:"right",children:Object(I.jsxs)("div",{className:"user-profile",children:[Object(I.jsx)("div",{className:"user-avatar",children:Object(I.jsx)("img",{src:e.profilePhoto,alt:e.name})}),Object(I.jsx)("div",{className:"user-name",children:e.name}),Object(I.jsx)("div",{children:Object(I.jsx)(K,{user:e})})]})})]})})},z=function(e){var t=e.onSearchChange,s=Object(a.useState)(Y.EMPTY),n=Object(H.a)(s,2),c=n[0],i=n[1];return Object(I.jsxs)("div",{className:"chat-side-bar-search",children:[Object(I.jsxs)("div",{className:"search-box",children:[Object(I.jsx)("div",{className:"chat-app-icon search-icon search"}),Object(I.jsx)("input",{"data-testid":"search-items",type:"text",placeholder:"Search...",value:c,onChange:function(e){var s=e&&e.target.value.trim()||Y.EMPTY;i(s),t(s)}})]}),Object(I.jsx)("div",{className:"chat-app-icon compose-message-icon compose-message",onClick:function(){return alert("Please type a message in the input field provided. Once you have entered the text message, kindly press ENTER or CLICK on message icon given next to it to send your message.")}})]})},B=function(e){var t=e.user,s=e.onClickHandler,a=Object(r.c)((function(e){return e.chat})),n=a.users,c=a.selectedUser,i=(n.find((function(e){return e.id===t.id}))||c).messages,o=void 0===i?[]:i;return Object(I.jsxs)("div",{"data-testid":"card-item-click",className:"card-item ".concat(c.id===t.id?Y.SELECTED:Y.EMPTY),onClick:function(){return s(t)},children:[Object(I.jsx)("div",{className:"avatar",children:Object(I.jsx)("img",{src:t.profilePhoto,alt:"".concat(t.name," Avatar")})}),Object(I.jsxs)("div",{className:"profile",children:[Object(I.jsx)("div",{className:"name ".concat(t.order>2?"two":"one"),children:t.name}),Object(I.jsx)("div",{className:"preview",children:o.length>0?o[o.length-1].text:Y.EMPTY})]})]},t.id)};B.defaultProps={user:{}};var F=B,J=function(e){var t=e.users,s=Object(r.b)(),a=Object(r.c)((function(e){return e.chat.selectedUser})),n=function(e){return s(M(e))};return Object(I.jsx)("div",{className:"card-items",children:t.map((function(e,t){return Object(I.jsx)(F,{user:e,onClickHandler:n,isSelected:a.id===e.id},t)}))})};J.defaultProps={users:[]};var W=J,V=(s(1529),function(){var e=Object(r.c)((function(e){return e.chat.users})),t=Object(a.useState)(e),s=Object(H.a)(t,2),n=s[0],c=s[1];return Object(I.jsxs)("div",{className:"chat-side-bar",children:[Object(I.jsx)(z,{onSearchChange:function(t){return c((s=t.toLowerCase(),e.filter((function(e){return e.name.toLowerCase().includes(s)}))));var s}}),Object(I.jsx)(W,{users:n})]})});s(1530);function q(){return Object(I.jsx)(n.a.Fragment,{children:Object(I.jsxs)("div",{className:"chat-app-container",children:[Object(I.jsx)("div",{className:"header-container",children:Object(I.jsx)(R,{})}),Object(I.jsxs)("div",{className:"body-container",children:[Object(I.jsx)("div",{className:"panel left-panel",children:Object(I.jsx)(V,{})}),Object(I.jsx)("div",{className:"panel right-panel",children:Object(I.jsx)(D,{})})]})]})})}function G(){return Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(r.a,{store:E,children:Object(I.jsx)(q,{})})})}i.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(r.a,{store:E,children:Object(I.jsx)(G,{})})}),document.getElementById("root"))},3:function(e,t){e.exports={CLICK:"click",EMPTY:"",ENTER:"Enter",SELECTED:"selected"}},32:function(e,t,s){}},[[1531,1,2]]]);
//# sourceMappingURL=main.faf9ff2f.chunk.js.map